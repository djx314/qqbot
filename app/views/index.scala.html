@(currentPath: String)
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>里番在线浏览器</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport"
    content="width=device-width, initial-scale=1">
    <title>Hello Amaze UI</title>

        <!-- Set render engine for 360 browser -->
    <meta name="renderer" content="webkit">

        <!-- No Baidu Siteapp-->
    <meta http-equiv="Cache-Control" content="no-siteapp"/>

    <link rel="icon" type="image/png" href="assets/i/favicon.png">

        <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="assets/i/app-icon72x72@@2x.png">

        <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Amaze UI"/>
    <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@@2x.png">

        <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="assets/i/app-icon72x72@@2x.png">
    <meta name="msapplication-TileColor" content="#0e90d2">

    <link rel="stylesheet" href="@assist.controllers.routes.Assets.staticAt("frameworks/AmazeUI-2.7.2/assets/css/amazeui.css")" media="all">
    <style type="text/css">
    body {}
    </style>
</head>
<body>
    <header data-am-widget="header"
    class="am-header am-header-default">
        <h1 class="am-header-title">
            <a href="#" class="">
            里番在线浏览
            </a>
        </h1>
    </header>
    <div data-am-widget="list_news" class="am-list-news am-list-news-default" >
        <div class="am-list-news-bd">
            <ul class="am-list">
                <!--列表标题-->
                <div class="am-list-news-hd am-cf">
                    <!--带更多链接-->
                    <a class="" data-bind="attr: { href: parentUrl }">
                        <h2>上一级目录</h2>
                    </a>
                </div>
                <!-- ko foreach: { data: filesPath, as: 'eachFile' } -->
                <li class="am-g am-list-item-desced">
                    <!-- ko if: eachFile.canEncode === true -->
                    <a href="#" class="am-list-item-hd" data-bind="text: eachFile.fileName"></a>
                    <!-- /ko -->
                    <!-- ko if: eachFile.canEncode === false -->
                    <a class="am-list-item-hd" data-bind="attr: { href: eachFile.requestUrl }, text: eachFile.fileName"></a>
                    <!-- /ko -->
                    <div class="am-list-item-text" style="overflow: hidden; display: block;">
                        <!-- ko if: (eachFile.temfileExists === false) && (eachFile.canEncode === true) && (eachFile.isEncoding === false) -->
                        <form method="get" data-bind="attr: { action: eachFile.requestUrl }" style="float: left; overflow: hidden;">
                            <input type="hidden" name="date" data-bind="value: new Date().getTime()" />
                            <input type="submit" value="直接观看" class="am-btn am-btn-warning am-round am-btn-sm" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </form>
                            <button data-bind="click: function() { $parent.encodeFile(eachFile); }" class="am-btn am-btn-danger am-round am-btn-sm">立刻转码</button>&nbsp;&nbsp;&nbsp;
                        <!-- /ko -->
                        <!-- ko if: (eachFile.temfileExists === false) && (eachFile.canEncode === true) && (eachFile.isEncoding === true) -->
                        <button type="button" class="am-btn am-btn-warning am-round am-btn-sm">转码中，请稍候</button>&nbsp;&nbsp;&nbsp;
                        <button data-bind="click: function() { $parent.encodeFile(eachFile); }" class="am-btn am-btn-danger am-round am-btn-sm">重新发送转码指令</button>&nbsp;&nbsp;&nbsp;
                        <!-- /ko -->
                        <!-- ko if: (eachFile.temfileExists === true) && (eachFile.canEncode === true) && (eachFile.isEncoding === false) -->
                        <form method="get" data-bind="attr: { action: eachFile.tempUrl }" style="float: left; overflow: hidden;">
                            <input type="hidden" name="date" data-bind="value: new Date().getTime()" />
                            <input type="submit" value="立刻观看" class="am-btn am-btn-secondary am-round am-btn-sm" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </form>
                        <div style="float: left; overflow: hidden;">
                            <button data-bind="click: function() { $parent.encodeFile(eachFile); }" class="am-btn am-btn-danger am-round am-btn-sm">强制重新转码</button>
                        </div>
                        <!-- /ko -->
                        <!-- ko if: (eachFile.temfileExists === true) && (eachFile.canEncode === true) && (eachFile.isEncoding === true) -->
                        <div style="float: left; overflow: hidden;">
                        <button type="button" class="am-btn am-btn-warning am-round am-btn-sm">转码中，请稍候</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <form method="get" data-bind="attr: { action: eachFile.tempUrl }" style="float: left; overflow: hidden;">
                            <input type="hidden" name="date" data-bind="value: new Date().getTime()" />
                            <input type="submit" value="立刻观看" class="am-btn am-btn-secondary am-round am-btn-sm" />
                        </form>
                        <!-- /ko -->
                    </div>
                </li>
                <!-- /ko -->
                <li class="am-g am-list-item-desced">
                    <a href="#" class="am-list-item-hd">&nbsp;</a>
                    <div class="am-list-item-text" style="overflow: hidden; display: block;">
                        <button data-bind="click: function() { deleteTempDir(); }" class="am-btn am-btn-danger am-round am-btn-sm">删除本页缓存</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <script type="text/javascript" src="@assist.controllers.routes.Assets.staticAt("frameworks/jquery/jquery-1.12.4.min.js")"></script>
    <script type="text/javascript" src="@assist.controllers.routes.Assets.staticAt("frameworks/AmazeUI-2.7.2/assets/js/amazeui.js")"></script>
    <script type="text/javascript" src="@assist.controllers.routes.Assets.staticAt("frameworks/knockout/knockout-3.4.2.js")"></script>
    <script type="text/javascript">
        currentUrl = "@currentPath";
    </script>
    <script type="text/javascript" src="@assist.controllers.routes.Assets.staticAt("files/files-index.js")"></script>
</body>
</html>